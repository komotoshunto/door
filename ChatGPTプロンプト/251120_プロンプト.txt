''' 
 
''' 
 
1 
上記の部屋名称のリストから、「名称のバリエーション」だけを代表名称にまとめてください。ここで「まとめる」とは、次の条件を満たす複数の名称を、共通する「ベース名（代表名称）」のキーに統合し、元の名称をすべて値のリストとして格納することを意味します。 
 
1.1 
入力される形式はPythonで[[{‘ID’:IDの値, ‘名前’,名前の値}, {‘ID’:IDの値, ‘名前’,名前の値}...], [{‘ID’:IDの値, ‘名前’,名前の値}, {‘ID’:IDの値, ‘名前’,名前の値}...]...]のような形式です。 
 
1.2 
各辞書の'名前'を比較して名称をまとめてください。 
 
1.3 
比較してまとめる対象は各第2階層内の辞書のリスト内にとどめてください。 
 
1.4 
まとめ方は2のプロンプトに従ってください。 
 
1.5 
“”” 
[[{'ID': 382014, '名前': 'PS5'}, {'ID': 650392, '名前': 'SK'}, {'ID': 941205, '名前': '事務室5'}, {'ID': 128504, '名前': 'PS2'}, {'ID': 507326, '名前': 'EPS1'}], [{'ID': 104582, '名前': '事務室2'},  {'ID':205713, '名前': 'EPS3'}, {'ID': 396824, '名前': '事務室1'}, {'ID': 587935, '名前': 'WC'}, {'ID': 768046, '名前': '事務室3'}]] 
””” 
本プロンプトは、上記のリストを以下のリストにすることである。 
""" 
[{'ID': 382014, '名前': 'PS 2, 5'}, {'ID': 650392, '名前': 'SK'}, {'ID': 941205, '名前': '事務室5'}, {'ID': 128504, '名前': 'PS 2, 5'}, {'ID': 507326, '名前': 'EPS1'}, {'ID': 104582, '名前': '事務室 1, 2, 3'}, {'ID': 205713, '名前': 'EPS3'}, {'ID': 396824, '名前': '事務室 1, 2, 3'}, {'ID': 587935, '名前': 'WC'}, {'ID': 768046, '名前': '事務室 1, 2, 3'}] 
""" 
 
 
2 
まとめ方について 
 
2.1.1 
「まとめてよい」名称のバリエーション（= 同じベース名とみなせる条件）は次の通りです。まず、各名称を「ベース名」+「バリエーション部分」に分解できるか判定してください。ここで「ベース名」とは、名称の先頭側もしくは後尾の部分であり、「バリエーション部分」を取り除いた残りの部分です。 
 
2.1.2 
「バリエーション部分」として認められるパターンは、次のいずれかに「完全に」一致する場合のみです。 それ以外は、バリエーション部分とはみなさないでください。 
(A)室名や番号: 
- 半角数字／全角数字のみ 
例: '101', '２', '10' など 
- ハイフン '-' に続く「数字や数字の組み合わせ」だけ 
例: '-1', '-2-3', '-10-2' など 
- アンダースコア '_' に続く「数字だけ」 
例: '_1', '_2', '_10' など 
(B)記号付きの英字: 
- ハイフン '-' に続く英字だけ 
例: '-A', '-B', '-C' など 
(C)短い英字・漢字・カナ: 
- 1 文字だけがバリエーションである場合 
例: '北', '南', 'A', 'B' など 
 
2.1.3 
複数の名称について、「ベース名」が同一であり、かつ「バリエーション部分」が 2 件以上存在すると判定できる場合、そのベース名でまとめてください。代表名称（ベース名）は、この「バリエーション部分」を取り除いた文字列とします。 
例（あくまでパターンの例であり、実際の入力名称とは限りません）: 
-'教室101' '教室102' '教室103' 
→ ベース名:'教室' 
→ 出力:'教室 101, 102, 103' 
  
-'Office-1' 'Office-２' 'Office-10' 'Office-06' 
→ ベース名:'Office' 
→ 出力:'Office -1, 2, 10, 06' 
  
-'保管室西' '保管室東' 
→ベース名:'保管室' 
→出力:'保管室 西, 東' 
  
-'ブースA' 'ブースB' 'ブースB-53' 'ブースC-7 
→ベース名:'ブース' 
→出力:'ブース A, B, B-53, C-7' 
  
-'北テラス' '東テラス' 
→ベース名:'テラス' 
→出力:'北, 東 テラス' 
  
-'北ギャラリー' '北東ギャラリー' '南ギャラリー3' '南ギャラリー01' 
→ベース名:'ギャラリー' 
→出力:'北, 北東, 南_3, 南_01 ギャラリー' 
 
2.2 
重要: ベース名にまとめるためには、 「同じベース名 + 許可されたパターンのバリエーション部分」の組み合わせが 2つ以上存在することが必須条件です。 
 
2.3 
同じベース名に属すると判定できる名称が 1 つしかない場合、 その名称はベース名にまとめず、「元の名称そのまま」をキーとして扱ってください。 
例（パターンの例）: 
- 比較対象のリストに「ギャラリー1」しかない場合 
→ 出力:'ギャラリー1' 
- 比較対象のリストに「待合室2」しかない場合 
→ 出力:'待合室2' 
- 比較対象のリストに「打合せスペース3」しかない場合 
→ 出力:'打合せスペース3' 
 
2.4 
「まとめない」ケース（共通部分があっても代表名称に統合しないケース）は次の通りです。 
 
2.4.1 
「ベース名」が完全に一致していない場合は、共通する語が含まれていてもまとめないでください。 
例（パターンの例）: 
-'男子トイレ' 'PS' 'SK' '廊下1' 
共通部分がない。 
→出力1:'男子トイレ' 
→出力2:'PS' 
→出力3:'SK' 
→出力4:'廊下1' 
   
-'中央テラス' '南屋内テラス' 
共通部分'テラス'が含まれますが、ベース名は異なります。 
→出力1:'中央テラス' 
→出力2:'南屋内テラス' 
  
-'イベントスペースA' '展示スペースB' 
共通部分'スペース'を含みますが、ベース名は異なります。 
→出力1:'イベントスペースA' 
→出力2:'展示スペースB 
 
2.4.2 
アンダースコア '_' の後ろが英字列の場合は、その部分は「許可されたバリエーションパターン」には該当しません。したがって、その名称はベース名にまとめず、別のキーとして扱ってください。 
例（パターンの例）: 
- 'ServerZone_1' 'ServerZone_2'  'ServerZone_Main' 'ServerZone_Backup’がある場合 
→ '_1' と '_2' はバリエーション部分として認められますが、 '_Main' と '_Backup' は数字だけではないため、バリエーション部分として扱ってはいけません。 
→ 正しい出力:  
'ServerZone _1, 2' 'ServerZone _Main, Backup’ 
 
2.5 
同じベース名であっても、 部分が上記 2.1.2のどのパターンにも「完全一致」しない場合は、 その名称はバリエーションとして扱わず、個別のキーにしてかまいません。 
 
2.6 
入力される部屋名称には、連番などの規則性がない場合があります。 上記のルールおよび例から、 「どのようなときにまとめてよいか」「どのようなときにまとめてはいけないか」を学習し、同様のパターンに従って処理してください。特定の名称だけに特別な処理をするのではなく、「ベース名が一致しているか」「末尾が許可されたバリエーションパターンか」というルールに基づいて判断してください。 
 
2.7 
重要: 用途・機能ごと（トイレ・倉庫・廊下など）にカテゴリ名を新しく作ってグルーピングする処理は一切行わないでください。例えば「トイレ・洗面」「倉庫」などの抽象的なカテゴリキーを新たに作成してはいけません。あくまで「名称のフォーマットや番号／短いバリエーション違い」を代表名称（ベース名）にまとめるだけにしてください。 
 
3 
出力形式について 
3.1 
出力は必ず以下のようにしてください。 
[{‘ID’:IDの値, ‘名前’,名前の値}, {‘ID’:IDの値, ‘名前’,名前の値}...]  
 
3.2  
出力を生成する前に、このプロンプト内のすべての条件（1〜7および9〜10）に違反していないかを必ず内部的に確認してください。もし違反が見つかった場合は、その出力は破棄し、条件を満たすように再度7.1のフォーマットになるように生成し直してください。ただし、この確認ややり直しを行った事実や内容を、最終的な出力の中に一切含めてはいけません。 
 
3.3. 
このプロンプトによって出力されたものがそのまま Python プログラムに入力されるため、必ずPythonのリストだけを出力してください。文字列メッセージやコメント、説明文は一切出力しないでください。 
 
3.4. 
「以下のリストをコピーしてください」などの説明文や余分なテキストは絶対に出力しないでください。
